version: '2.0'

intents:
- student_id_card:
    use_entities: []
- age:
    use_entities: []
- where_is_washroom

# - answer_family_name:
#     use_entities: true
# - answer_birthday:
#     use_entities: true    
# - answer_given_name:
#     use_entities: true
# - answer_hometown:
#     use_entities: true
# - answer_study_subject:
#     use_entities: true

entities:
  - PERSON
  - DATE
  - LOC
  - GPE
  # - time
  - number
slots:
  name:
    type: text
    influence_conversation: false
  hometown:
    type: text
    influence_conversation: false
  birthday:
    type: any
    influence_conversation: false
  age:
    type: float
    influence_conversation: false
  study_subject:
    type: text
    influence_conversation: false
  is_id_card_given:
    type: bool
    influence_conversation: true

# slots:
#   name:
#     type: text
#     auto_fill: true
#     influence_conversation: false
#   family_name:
#     type: text
#     auto_fill: true
#     influence_conversation: false
#   birthday:
#     type: any
#     auto_fill: true
#     influence_conversation: false
#   hometown:
#     type: text
#     auto_fill: true
#     influence_conversation: false
#   study_subject:
#     type: text
#     auto_fill: true
#     influence_conversation: false
    
responses:
#   utter_greet_student_life:
#   - text: Welcome to the Student Life Office. How can I help you?
  utter_ask_name:
  - text: What's your name?
  - text: Can I get your name please?
  utter_ask_hometown:
  - text: What's your hometown?
  - text: And can you tell me your hometown?
  utter_ask_birthday:
  - text: Can you also tell me your birthday?
  utter_ask_age:
  - text: Great. How old are you?
  - text: How old are you now?
  utter_ask_study_subject:
  - text: What subject do you study?
  - text: What's your major?
#   utter_ask_family_name:
#   - text: What's your family name?
#   utter_ask_birthday:
#   - text: What's your birthday?
#   utter_ask_hometown:
#   - text: What's your hometown?
  utter_i_can_help:
  - text: I can absolutely help you with that!
  - text: Sure, I just need some information from you.
  utter_provide_student_id_card:
  - text: Here's your id card!
  utter_confirm_name_slot_filled:
  - text: Nice to meet you {name}!
  utter_confirm_hometown_filled:
  - text: Cool {name}. I'd love to go visit {hometown} someday.
  utter_confirm_birthday_filled:
  - text: That's a nice birthday.
  utter_confirm_age_filled:
  - text: Got it. {age} years old.
  utter_no_id_found:
  - text: Sorry, I couldn't find a card with that information.
  utter_try_again:
  - text: Let's try again.
  utter_washroom_location:
  - text: The washroom is located in the cafeteria.
  utter_still_need_more_information:
  - text: Sorry, but I still need a bit more information from you.
#   utter_washroom:
#   - text: There is a washroom in the foyer.

forms:
  student_id_card_form:
    name:
      - type: from_entity
        entity: PERSON
        slot_filled_action: "utter_confirm_name_slot_filled"
    hometown:
      - type: from_entity
        entity: LOC
      - type: from_entity
        entity: GPE
        slot_filled_action: "utter_confirm_hometown_filled"
    # birthday:
    #   # - type: from_entity
    #   #   entity: DATE
    #   - type: from_entity
    #     entity: time
    #     slot_filled_action: "utter_confirm_birthday_filled"
    age:
      # - type: from_entity
      #   entity: DATE
      - type: from_entity
        entity: number
        slot_filled_action: "utter_confirm_age_filled"
    # study_subject:
    #   - type: from_entity
    #     entity: text
      # - type: from_intent
#   student_id_card_form:
#     birthday:
#       - entity: DATE
#         type: from_entity
#     family_name:
#       - entity: PERSON
#         type: from_entity
#     name:
#       - entity: PERSON
#         type: from_entity
#     hometown:
#       - entity: city
#         type: from_entity
#     study_subject:
#       - entity: study_subject
#         type: from_entity

actions:
- action_ask_name
- action_ask_hometown
- action_ask_birthday
- action_validate_id_information
- action_state_machine_action